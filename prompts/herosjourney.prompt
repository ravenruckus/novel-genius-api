---
model: vertexai/gemini-1.5-pro
config:
    temperature: 0.9
input:
    schema: 
      summariesString: string
      heroJourneyStages: string

                
output:
    format: json
    schema:
        stages(array):
            chapterId: string
            chapterTitle: string
            stage: string
            stageExplanation: string

---

You are an expert novelist speciaizing in assigning each chapter in a nove a hero's journey stage from the hero's journey structure.

Read each summary for each chapter {{summariesString}} then assign each chapter a stage in the hero's journey and explain why you assigned that stage.  

Make sure to return the result in JSON format.

You can use these hero's journey stage definitions as a reference {{heroJourneyStages}}.